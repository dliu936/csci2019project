{% extends "reports/base.html" %}

{% block report_title %}
  <div class="container">
      <h1 class="display-4">Correlation Report</h1>
      <p class="lead">Show historic correlation between each of the instruments.</p>
    </div>
{% endblock %}
  {% load static %}
{% block report %}
  {% if graph %}
    <div style="width:600;height:500">{{ graph|safe }}</div>
  {% else %}
    <div><img class="rpt_exposure" src="{% static "images/correlationM5.png" %}" alt="Exposure Report" ></div>
  {% endif %}
  <form>
    <div class="form-row">
      <div class="col">
        <label for="cp1">Currency Pair</label>
        <select class="form-control form-control-sm">
          {% for key, value in currencylist %}
            <option value="{{ value }}">{{key}}</option>
            {% endfor %}
        </select>
        <small id="cp1Help" class="form-text text-muted">Select the first of the currency pair</small>
      </div>
      <div class="col">
        <label for="cp2">Counter Currency</label>
        <select class="form-control form-control-sm">
          <option>AUD</option>
          <option>CAD</option>
          <option>USD</option>
        </select>
        <small id="cp2Help" class="form-text text-muted">Select the second of the currency pair</small>
      </div>
      <div class="col">
        <label for="cp3">Granularity</label>
        <select class="form-control form-control-sm">
          <option value="S5">5 seconds</option>
          <option value="S10">10 seconds</option>
          <option value="S15">15seconds</option>
          <option value="S30">30 seconds</option>
          <option value="M1">1 minute</option>
          <option value="M2">2 minutes</option>
          <option value="M3">3 minutes</option>
          <option value="M4">4 minutes</option>
          <option value="M5">5 minutes</option>
          <option value="M10">10 minutes</option>
          <option value="M15">15 minutes</option>
          <option value="M30">30 minutes</option>
          <option value="H1">1 hour</option>
          <option value="H2">2 hours</option>
          <option value="H3">3 hours</option>
          <option value="H4">4 hours</option>
          <option value="H6">6 hours</option>
          <option value="H8">8 hours</option>
          <option value="H12">12 hours</option>
          <option value="D">Daily</option>
          <option value="W">Weekly</option>
          <option value="M1">Monthly</option>
        </select>
        <small id="cp3Help" class="form-text text-muted">Select the granularity</small>
      </div>
    </div>
    <div class="form-row">
      <div class="col">
        <div class="form-group"> <!-- Date input -->
          <label class="control-label" for="dateStart">Date</label>
          <input class="form-control" id="dateStart" name="dateStart" placeholder="MM/DD/YYY" type="text"/>
        </div>
        <small id="dt1Help" class="form-text text-muted">Select starting date for the report</small>
      </div>
      <div class="col">
        <div class="form-group"> <!-- Date input -->
          <label class="control-label" for="dateEnd">Date</label>
          <input class="form-control" id="dateEnd" name="dateEnd" placeholder="MM/DD/YYY" type="text"/>
        </div>
        <small id="dt1Help" class="form-text text-muted">Select ending date for the report</small>
      </div>
    </div>

    <button type="submit" class="btn btn-primary">Submit</button>
  </form>
{% endblock report %}

{% block report_javascript %}
  <script>
      $(document).ready(function () {
          var date_input = $('input[name="dateStart"]'); //our date input has the name "date"
          var date_input2 = $('input[name="dateEnd"]'); //our date input has the name "date"
          var container = $('.bootstrap-iso form').length > 0 ? $('.bootstrap-iso form').parent() : "body";
          var options = {
              format: 'mm/dd/yyyy',
              container: container,
              todayHighlight: true,
              autoclose: true,
          };
          date_input.datepicker(options);
          date_input2.datepicker(options);
      })
  </script>
{% endblock %}
